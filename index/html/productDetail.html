<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>商品详情页</title>
    <link rel="stylesheet" href="../../common/reset.css">
    <script src="../../common/jquery.min.js"></script>
    <link rel="stylesheet" href="../../fonticon/iconfont.css">
    <link rel="stylesheet" href="../css/productDetail.css">
    <!-- axios请求 -->
    <script src="https://cdn.bootcdn.net/ajax/libs/axios/0.19.2/axios.min.js"></script>
    <!-- jq的cookie -->
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script src="../js/productDetail.js"></script>
</head>

<body>
    <!--头部  -->
    <header></header>
    <div id="box-wrap">
        <div id="Box">
            <div id="Bigbox">
                <img src="" id="Bigimg">
            </div>
            <div id="Midbox-wrap">
                <div id="Midbox">
                    <div id="shaw"></div>
                    <img src="">
                </div>
            </div>
            <div id="Smabox">
                <ul id="oul">
                    <li class="active"><img src=""></li>
                    <li><img src=""></li>
                    <li><img src=""></li>
                </ul>
            </div>
            <div id="title">
                <h2></h2>
                <p class="price"></p>
                <div class="num">
                    <span class="jian">-</span>
                    <input type="text" value="1">
                    <span class="jia">+</span>
                </div>
                <button class="btn">加入购物车</button>
                <a href="cart.html" class="btn1">跳转购物车</a>
            </div>
        </div>
    </div>
    <!-- 尾部 -->
    <footer></footer>
</body>
<script>
    $("#Midbox").mouseover(function() {
        $("#shaw").show()
        $("#Bigbox").show()
    })
    $("#Midbox").mouseout(function() {
        $("#shaw").hide()
        $("#Bigbox").hide()
    })

    $("#Midbox").mousemove(function(e) {
        var l = e.pageX - $("#Midbox-wrap").offset().left - ($("#shaw").width() / 2)
        var t = e.pageY - $("#Midbox-wrap").offset().left - ($("#shaw").height() / 2)
        if (l < 0) {
            l = 0
        }
        if (l > $(this).width() - $("#shaw").width()) {
            l = $(this).width() - $("#shaw").width()
        }
        if (t < 0) {
            t = 0
        }
        if (t > $(this).height() - $("#shaw").height()) {
            t = $(this).height() - $("#shaw").height()
        }

        $("#shaw").css({
            "left": l,
            "top": t
        })
        var pX = l / ($("#Midbox").width() - $("#shaw").width())
        var pY = t / ($("#Midbox").height() - $("#shaw").height())
        $("#Bigbox img").css({
            "left": -pX * ($("#Bigbox img").width() - $("#Bigbox").width()),
            "top": -pY * ($("#Bigbox img").height() - $("#Bigbox").height())
        })
    })
    var MidBox = document.getElementById('Midbox');
    var ali = document.getElementById('oul').children;
    for (let i = 0; i < ali.length; i++) {
        ali[i].onmouseover = function() {
            for (let j = 0; j < ali.length; j++) {
                ali[j].className = "";
            }
            ali[i].className = "active";
            var Src = ali[i].children[0].src
            MidBox.children[1].src = Src;
            Bigimg.src = Src;
        }
    }
</script>

</html>