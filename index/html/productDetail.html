<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>商品详情页</title>
    <link rel="stylesheet" href="../../common/reset.css">
    <script src="../../common/jquery.min.js"></script>
    <link rel="stylesheet" href="../../fonticon/iconfont.css">
    <link rel="stylesheet" href="../css/productDetail.css">
    <!-- axios请求 -->
    <script src="https://cdn.bootcdn.net/ajax/libs/axios/0.19.2/axios.min.js"></script>
    <!-- jq的cookie -->
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script src="../js/productDetail.js"></script>
</head>

<body>
    <!--头部  -->
    <header></header>
    <div id="box-wrap">
        <div id="Box">
            <div id="Bigbox">
                <img src="" id="Bigimg">
            </div>
            <div id="Midbox">
                <div id="shaw"></div>
                <img src="">
            </div>
            <div id="Smabox">
                <ul id="oul">
                    <li class="active"><img src=""></li>
                    <li><img src=""></li>
                    <li><img src=""></li>
                </ul>
            </div>
            <div id="title">
                <h2></h2>
                <p class="price"></p>
                <div class="num">
                    <span class="jian">-</span>
                    <input type="text" value="1">
                    <span class="jia">+</span>
                </div>
                <button class="btn">加入购物车</button>
                <a href="cart.html" class="btn1">跳转购物车</a>
            </div>
        </div>

    </div>

    <!-- 尾部 -->
    <footer></footer>
</body>
<script>
    var Box = document.getElementById('Box')
    var BigBox = document.getElementById('Bigbox');
    var Bigimg = document.getElementById('Bigimg');
    var MidBox = document.getElementById('Midbox');
    var shaw = document.getElementById('shaw');
    var SmaBox = document.getElementById('Smabox');
    var ali = document.getElementById('oul').children;
    MidBox.onmouseover = function() {
        shaw.style.display = 'block';
        BigBox.style.display = 'block';
    }
    MidBox.onmousemove = function(e) {

        let evt = e || event;
        let x = evt.clientX - Box.offsetLeft; //事件发生点距离页面的位置减去父元素距离根元素的距离
        let y = evt.clientY - Box.offsetTop;
        let l = x;
        let t = y;
        // console.log(MidBox.scrollTop, evt.clientY, evt.clientX, t);

        //进行判断给出临界值
        // let Sl = Box.offsetLeft;
        // let St = Box.offsetTop;
        // let Bl = MidBox.clientX - shaw.offsetWidth;
        // let Bt = MidBox.clientY - shaw.offsetHeight;
        // console.log(Bl, Bt);
        // t = t <= St ? St : t >= Bt ? Bt : t;
        // l = l <= Sl ? Sl : l >= Bl ? Bl : l;
        shaw.style.top = y + 'px';
        shaw.style.left = x + 'px';
        Bigimg.style.top = -t * Bigimg.offsetHeight / MidBox.offsetHeight + 'px';
        Bigimg.style.left = -l * Bigimg.offsetWidth / MidBox.offsetWidth + 'px';
    }
    MidBox.onmouseout = function() {
        shaw.style.display = 'none';
        BigBox.style.display = 'none';
    }
    for (let i = 0; i < ali.length; i++) {
        ali[i].onmouseover = function() {
            for (let j = 0; j < ali.length; j++) {
                ali[j].className = "";
            }
            ali[i].className = "active";
            var Src = ali[i].children[0].src
            MidBox.children[1].src = Src;
            Bigimg.src = Src;
        }
    }
</script>

</html>